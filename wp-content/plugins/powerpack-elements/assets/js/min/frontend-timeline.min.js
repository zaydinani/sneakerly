!function(l){l(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{timeline:".pp-timeline",items:".pp-timeline-vertical .pp-timeline-item",slickSlide:".pp-timeline-item",connector:".pp-timeline-vertical .pp-timeline-connector",progressBar:".pp-timeline-vertical .pp-timeline-connector-inner",markerClass:".pp-timeline-vertical .pp-timeline-marker-wrapper",carousel:".pp-timeline-horizontal .pp-timeline-items",sliderWrap:".pp-timeline-wrapper",sliderNav:".pp-timeline-navigation"},slidesToShow:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1}}}getDefaultElements(){var e=this.getSettings("selectors");return{$timeline:this.$element.find(e.timeline),$items:this.$element.find(e.items),$slickSlide:this.$element.find(e.slickSlide),$connector:this.$element.find(e.connector),$progressBar:this.$element.find(e.progressBar),$markerClass:this.$element.find(e.markerClass),$carousel:this.$element.find(e.carousel),$sliderWrap:this.$element.find(e.sliderWrap),$sliderNav:this.$element.find(e.sliderNav)}}getSlidesCount(){return this.elements.$slickSlide.length}getDeviceSlidesPerView(e){var t="columns"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(t)||this.getSettings("slidesToShow")[e])}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(e)||1)}getSlickOptions(){var e=this.getElementSettings(),t=this.elements.$sliderWrap.data("rtl");let s=!1;var i=e.columns!==undefined&&""!==e.columns?parseInt(e.columns,10):3,n=e.slides_to_scroll!==undefined&&""!==e.slides_to_scroll?parseInt(e.slides_to_scroll,10):3,i=("yes"===e.infinite_loop&&"yes"===e.center_mode&&(s=!0),{slidesToShow:i,slidesToScroll:n,autoplay:"yes"===e.autoplay,autoplaySpeed:e.autoplay_speed,arrows:!1,pauseOnHover:"yes"===e.pause_on_hover,pauseOnFocus:"yes"===e.pause_on_hover,centerMode:s,speed:e.animation_speed,infinite:"yes"===e.infinite_loop,rtl:"yes"===t});const l={},o=elementorFrontend.config.responsive.activeBreakpoints;return Object.keys(o).forEach((e,t)=>{"widescreen"!==e&&(l[t]={breakpoint:o[e].value+1,settings:{slidesToShow:this.getDeviceSlidesPerView(e),slidesToScroll:this.getDeviceSlidesToScroll(e)}})}),i.responsive=Object.values(l),i}bindEvents(){var e=this.getElementSettings();"vertical"===e.layout&&(this.winHeight=l(window).height(),this.scrollTop=l(window).scrollTop(),this.window=l(window),this.window.on("scroll",l.proxy(function(){this.scrollTop=this.window.scrollTop(),this.requestAnimation(),this.revealItems()},this)),l(window).on("resize",l.proxy(function(){this.scrollTop=this.window.scrollTop(),this.winHeight=l(window).height(),this.requestAnimation()},this)),this.requestAnimation(),this.revealItems()),"horizontal"===e.layout&&this.initHorizontalLayout()}requestAnimation(){this.isAnimating||requestAnimationFrame(this.reboot.bind(this)),this.isAnimating=!0}revealItems(){var e=this;this.elements.$items.each(function(){l(this).offset().top<=e.window.scrollTop()+.95*l(window).outerHeight()&&l(this).hasClass("pp-timeline-item-hidden")&&l(this).removeClass("pp-timeline-item-hidden").addClass(e.animationClass)})}setup(){var e=this,t=this.elements.$items.last().find(this.elements.$markerClass).outerHeight();this.elements.$connector.css({top:e.elements.$items.first().find(e.elements.$markerClass).offset().top-e.elements.$items.first().offset().top,bottom:e.$element.offset().top+e.$element.outerHeight()-e.elements.$items.last().find(e.elements.$markerClass).offset().top-t/2})}reboot(){this.isAnimating=!1,this.winHeight!==this.lastWinHeight&&this.setup(),this.start.bind(this)()}start(){this.scrollTop===this.lastScrollTop&&this.winHeight===this.lastWinHeight||(this.lastScrollTop=this.scrollTop,this.lastWinHeight=this.winHeight,this.progress())}progress(){var e=this,t=l(window);this.elements.$items.each(function(){l(this).find(e.elements.$markerClass).offset().top<e.window.scrollTop()+t.outerHeight()/2?l(this).addClass("pp-timeline-item-active"):l(this).removeClass("pp-timeline-item-active")});let s=this.elements.$items.last().find(this.elements.$markerClass).offset().top,i=this.elements.$items.last().find(this.elements.$markerClass).outerHeight(),n=this.window.scrollTop()-this.elements.$progressBar.offset().top+t.outerHeight()/2;s<=this.window.scrollTop()+t.outerHeight()/2&&(n=s-this.elements.$progressBar.offset().top),n+=i/2,this.elements.$progressBar.css("height",n+"px")}initHorizontalLayout(){var e=this.getElementSettings();this.initCarousel(),this.initCarouselNav(),this.elements.$carousel.slick("setPosition"),elementorFrontend.isEditMode()&&this.elements.$sliderWrap.resize(function(){this.elements.$carousel.slick("setPosition")}),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0)}togglePauseOnHover(e){e?this.$element.on({mouseenter:()=>{this.elements.$carousel.slick("slickPause"),this.elements.$sliderNav.slick("slickPause")},mouseleave:()=>{this.elements.$carousel.slick("slickPlay"),this.elements.$sliderNav.slick("slickPlay")}}):this.$element.off("mouseenter mouseleave")}initCarousel(){var e=this.getElementSettings(),t=this.getSlickOptions();t.dots="yes"===e.dots,t.asNavFor=this.elements.$sliderNav,this.elements.$carousel.slick(t)}initCarouselNav(){var e=this.getElementSettings(),t=this.getSlickOptions();t.asNavFor=this.elements.$carousel,t.arrows="yes"===e.arrows,t.prevArrow=".pp-arrow-prev-"+this.getID(),t.nextArrow=".pp-arrow-next-"+this.getID(),t.centerMode="yes"===e.center_mode,t.focusOnSelect=!0,this.elements.$sliderNav.slick(t)}}elementorFrontend.elementsHandler.attachHandler("pp-timeline",e)})}(jQuery);
!function(a){var u=!((PPAdvancedMenu=function(e,n){this.node=e,this.menu_wrap=e.find(".pp-advanced-menu-main-wrapper"),this.wrap=e.find(".pp-advanced-menu__container"),this.menu=e.find(".pp-advanced-menu"),this.dropdownMenu=e.find(".pp-advanced-menu__container.pp-advanced-menu--dropdown"),this.anchorLink=e.find(".pp-advanced-menu--main .pp-menu-item-anchor"),this.menuToggle=e.find(".pp-menu-toggle"),this.settings=e.find(".pp-advanced-menu__container").data("settings"),this.settings&&(this.menuId=this.settings.menu_id,this.menuType=n.menu_type,this.fullWidth=n.full_width,this.menuLayout=n.layout,this.showSubmenuOn=n.show_submenu_on,this.showSubmenuOnClick="click"==this.showSubmenuOn,this.showResponsiveSubmenuOn=n.show_responsive_submenu_on||"icon",this.onepage_menu=n.onepage_menu,this.duration=400,this.iconValue=n.submenu_icon.value,this.subIndicatorsContent="",this.iconValue&&(this.subIndicatorsContent=-1<this.iconValue.indexOf("<")?this.iconValue:`<i class="${this.iconValue}"></i>`),this.init())}).prototype={stretchElement:null,init:function(){var s,e;this.menu.length&&(jQuery.fn.smartmenus&&(jQuery.SmartMenus.prototype.isCSSOn=function(){return!0},elementorFrontend.config.is_rtl)&&(jQuery.fn.smartmenus.defaults.rightToLeftSubMenus=!0),"horizontal"===this.menuLayout&&"undefined"!=typeof a.fn.smartmenus&&(s=this.showResponsiveSubmenuOn,e="icon"===this.showResponsiveSubmenuOn?"span.sub-arrow":".pp-menu-item, .pp-sub-item",this.menu.smartmenus({subIndicators:""!==this.subIndicatorsContent,subIndicatorsText:this.subIndicatorsContent,subIndicatorsPos:"append",subMenusMaxWidth:"1000px",subMenusMinWidth:"",showOnClick:this.showSubmenuOnClick,collapsibleBehavior:"link"}).on("click",e,function(e){var n,t;a(this).parents(".pp-advanced-menu--dropdown").length&&(t=!1,"icon"!==s?a(this).hasClass("has-submenu")&&(n=a(this),t=!0):(n=a(this).closest("a.has-submenu"),t=!0),t)&&(n.toggleClass("highlighted"),n.attr("aria-expanded","false"==n.attr("aria-expanded")?"true":"false"),(t=n.siblings("ul")).attr("aria-hidden","false"==t.attr("aria-hidden")?"true":"false"),t.attr("aria-expanded","false"==t.attr("aria-expanded")?"true":"false"),"true"===t.attr("aria-expanded")?t.css({width:"auto",display:"block"}):t.css({width:"auto",display:"none"}),e.preventDefault(),e.stopPropagation())})),"vertical"===this.menuLayout&&"undefined"!=typeof a.fn.smartmenus&&(s=this.showResponsiveSubmenuOn,e="icon"===this.showResponsiveSubmenuOn?"span.sub-arrow":".pp-menu-item, .pp-sub-item",this.menu.smartmenus({subIndicators:""!==this.subIndicatorsContent,subIndicatorsText:this.subIndicatorsContent,subIndicatorsPos:"append",subMenusMaxWidth:"",subMenusMinWidth:"",mainMenuSubOffsetX:"0px",mainMenuSubOffsetY:"0px",subMenusSubOffsetX:"0px",subMenusSubOffsetY:"0px",showOnClick:this.showSubmenuOnClick,collapsibleBehavior:"link"}).on("click",e,function(e){var n,t;a(this).parents(".pp-advanced-menu--dropdown").length&&(t=!1,"icon"!==s?a(this).hasClass("has-submenu")&&(n=a(this),t=!0):(n=a(this).closest("a.has-submenu"),t=!0),t)&&(n.toggleClass("highlighted"),n.attr("aria-expanded","false"==n.attr("aria-expanded")?"true":"false"),(t=n.siblings("ul")).attr("aria-hidden","false"==t.attr("aria-hidden")?"true":"false"),t.attr("aria-expanded","false"==t.attr("aria-expanded")?"true":"false"),"true"===t.attr("aria-expanded")?t.css({width:"auto",display:"block"}):t.css({width:"auto",display:"none"}),e.preventDefault(),e.stopPropagation())})),"default"===this.menuType&&(this.initStretchElement(),this.stretchMenu()),"off-canvas"===this.menuType&&this.initOffCanvas(),"full-screen"===this.menuType&&this.initFullScreen(),this.bindEvents(),elementorFrontend.isEditMode()||this.followMenuAnchors(),a(window).on("load",a.proxy(this.resetDimensions,this)),this.menu.smartmenus("refresh"))},getElementSettings:function(e){return"undefined"!=typeof this.settings[e]&&this.settings[e]},bindEvents:function(){var t=this;this.menu.length&&(this.menuToggle.on("click",a.proxy(this.toggleMenu,this)),"yes"===this.onepage_menu&&this.menu.on("click",'.menu-item > a[href*="#"]',function(e){var n=a(this).attr("href");"#"!==n&&(n=n.split("#")[1],0<a("body").find("#"+n).length&&(e.preventDefault(),a(this).toggleClass("pp-active")),t.closeMenu())}),"default"===this.menuType&&elementorFrontend.addListenerOnce(this.node.data("model-cid"),"resize",a.proxy(this.stretchMenu,this)),this.closeMenuESC())},panelUpdate:function(){var s=this;"undefined"!=typeof elementor&&a("body").hasClass("elementor-editor-active")&&elementor.hooks.addAction("panel/open_editor/widget/pp-advanced-menu",function(e,n,t){e.$el.find('select[data-setting="dropdown"]').on("change",function(){n.attributes.id===s.menuId&&("all"===a(this).val()&&s.node.find(".pp-advanced-menu--main").hide(),"all"!==a(this).val())&&s.node.find(".pp-advanced-menu--main").show()}),n.attributes.id===s.menuId&&"all"===s.settings.breakpoint&&s.toggleMenu()})},initStretchElement:function(){this.stretchElement=new elementorFrontend.modules.StretchElement({element:this.dropdownMenu})},stretchMenu:function(){"stretch"==this.fullWidth?(this.stretchElement.stretch(),this.dropdownMenu.css("top",this.menuToggle.outerHeight())):this.stretchElement.reset()},initOffCanvas:function(){a(".pp-menu-"+this.settings.menu_id).each(function(e,n){a(n).parent().is("body")&&a(n).remove()}),0<this.menu_wrap.find(".pp-menu-off-canvas").length&&(0<a(".pp-offcanvas-container > .pp-menu-"+this.settings.menu_id).length&&a(".pp-offcanvas-container > .pp-menu-"+this.settings.menu_id).remove(),0<a("body > .pp-menu-"+this.settings.menu_id).length&&a("body > .pp-menu-"+this.settings.menu_id).remove(),a("body").prepend(this.node.find(".pp-menu-"+this.settings.menu_id))),a(".pp-menu-clear").fadeOut(400,function(){a(this).remove()}),a(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px"),a(".pp-menu-"+this.settings.menu_id).find(".pp-menu-close").on("click",a.proxy(this.closeMenu,this))},initFullScreen:function(){a("body").addClass("pp-menu--full-screen"),a(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px"),a(".pp-menu-"+this.settings.menu_id).find(".pp-menu-close").on("click",a.proxy(this.closeMenu,this))},resetDimensions:function(){"full-screen"===this.menuType&&a(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px")},toggleMenu:function(){this.menuToggle.toggleClass("pp-active");var e,n=this.menuType,t=this.menuToggle.hasClass("pp-active");a("html").removeClass("pp-menu-toggle-open"),t&&a("html").addClass("pp-menu-toggle-open"),"default"===n&&(e=this.dropdownMenu,t?(e.hide().slideDown(250,function(){e.css("display","")}),this.stretchMenu()):e.show().slideUp(250,function(){e.css("display","")})),"off-canvas"===n&&this.toggleOffCanvas(),"full-screen"===n&&this.toggleFullScreen()},toggleOffCanvas:function(){var e=this.menuToggle.hasClass("pp-active"),n=a("body").find(".pp-menu-"+this.menuId),t=this.duration,s=this;a("html").removeClass("pp-menu-toggle-open"),t=e?(a("body").addClass("pp-menu--off-canvas"),a("html").addClass("pp-menu-toggle-open"),0):this.duration,a(".pp-menu-open").removeClass("pp-menu-open"),a(".pp-advanced-menu--toggle .pp-menu-toggle").not(this.menuToggle).removeClass("pp-active"),setTimeout(function(){a(".pp-menu-off-canvas").removeAttr("style"),e?(a("body").addClass("pp-menu-open"),n.addClass("pp-menu-open").css("z-index","999999"),0===a(".pp-menu-clear").length&&a("body").append('<div class="pp-menu-clear" style="transition: none !important;"></div>'),a(".pp-menu-clear").off("click").on("click",a.proxy(s.closeMenu,s)),a(".pp-menu-clear").fadeIn()):(a(".pp-menu-open").removeClass("pp-menu-open"),a("body").removeClass("pp-menu--off-canvas"),a("html").removeClass("pp-menu-toggle-open"),a(".pp-menu-clear").fadeOut())},t)},toggleFullScreen:function(){var e=this.menuToggle.hasClass("pp-active");a("body").find(".pp-menu-"+this.menuId);a("html").removeClass("pp-menu-toggle-open"),e&&(a("html").addClass("pp-menu-toggle-open"),this.node.find(".pp-menu-full-screen").addClass("pp-menu-open"))},closeMenu:function(){var e;"default"!==this.menuType&&(a(".pp-menu-open").removeClass("pp-menu-open"),this.menuToggle.removeClass("pp-active"),a("html").removeClass("pp-menu-toggle-open"),"full-screen"===this.menuType&&(e=this.node.find(".pp-menu-full-screen").data("scroll"),a(window).scrollTop(e)),a(".pp-menu-clear").fadeOut())},closeMenuESC:function(){var n=this;a(document).on("keydown",function(e){27===e.keyCode&&n.closeMenu()})},followMenuAnchors:function(){var e=this;this.anchorLink.each(function(){location.pathname===this.pathname&&""!==this.hash&&e.followMenuAnchorEle(a(this))})},followMenuAnchorEle:function(e){var n=$element[0].hash,t=classes.anchorItem,t=$element.hasClass(t)?$element:$element.closest("."+t);let s="300px 0px -50% 0px",i;try{i=a(decodeURIComponent(n))}catch(o){return}i.length&&(i.hasClass("pp-menu-anchor")||(s=this.calculateRootMargin(i)),n=this.buildThreshold(i),n={root:null,rootMargin:s,threshold:n},this.createObserver(t,"pp-menu-item-active",$element,n).observe(i[0]))},calculateRootMargin:function(e){var n=jQuery(window).height(),e=e.outerHeight();let t;return(t=n<e?0:(n-e)/2)+"px"},buildThreshold:function(e){var n=jQuery(window).height(),e=e.outerHeight();let t=n<e?n/2/e:.5;return t},createObserver:function(n,t,s,e){return new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?(n.addClass(t),s.attr("aria-current","location")):(n.removeClass(t),s.attr("aria-current",""))})},e)}}),e=function(e){i={},o=(n=e).data("model-cid"),u&&o?(t=elementorFrontend.config.elements.data[o],s=elementorFrontend.config.elements.keys[t.attributes.widgetType||t.attributes.elType],jQuery.each(t.getActiveControls(),function(e){-1!==s.indexOf(e)&&(i[e]=t.attributes[e])})):i=n.data("settings")||{};var n,t,s,i,o=i;new PPAdvancedMenu(e,o)};a(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&(u=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-advanced-menu.default",e)})}(jQuery);
!function(n){(PPOffcanvasContent=function(t){this.node=t,this.wrap=t.find(".pp-offcanvas-content-wrap"),this.cart_wrap=t.find(".pp-offcanvas-cart-container"),this.content=t.find(".pp-offcanvas-content"),this.button=t.find(".pp-offcanvas-toggle"),this.settings=this.wrap.data("settings"),this.scopeUniqueId=this.getOffcanvasUniqueScopeId(t),this.toggle_source=this.settings.toggle_source,this.id=this.scopeUniqueId,this.toggle_id=this.settings.toggle_id,this.toggle_class=this.settings.toggle_class,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.links_click_close=this.settings.links_click_close,this.direction=this.settings.direction,this.buttons_position=this.settings.buttons_position,this.open_panel_add_to_cart=this.settings.open_panel_add_to_cart,this.add_to_cart_button=n(".add_to_cart_button, .single_add_to_cart_button"),this.duration=500,this.destroy(),this.init()}).prototype={id:"",node:"",wrap:"",content:"",button:"",settings:{},transition:"",duration:400,initialized:!1,animations:["slide","slide-along","reveal","push"],init:function(){var t;this.wrap.length&&(n("html").addClass("pp-offcanvas-content-widget"),0===n(".pp-offcanvas-container").length&&((t=0<n("#font-awesome-pro-js").length&&n("#font-awesome-pro-js").attr("src"))&&n("#font-awesome-pro-js").remove(),n("body").wrapInner('<div class="pp-offcanvas-container" />'),this.content.insertBefore(".pp-offcanvas-container"),t)&&n("body").append('<script type="text/javascript" id="font-awesome-pro-js" src="'+t+'"><\/script>'),0<this.wrap.find(".pp-offcanvas-content").length&&(0<n(".pp-offcanvas-container > .pp-offcanvas-"+this.id).length&&n(".pp-offcanvas-container > .pp-offcanvas-"+this.id).remove(),0<n("body > .pp-offcanvas-"+this.id).length&&n("body > .pp-offcanvas-"+this.id).remove(),n("body").prepend(this.wrap.find(".pp-offcanvas-content"))),this.bindEvents())},getOffcanvasUniqueScopeId:function(t){var e=t.data("id"),s=n('[data-id="'+e+'"]');return this.hasMultipleScopeId(e)&&(scopeIdCloned=e,s.each(function(t){n(this).attr("data-pp-offcanvas-index",t)}),e=e+"_"+t.data("pp-offcanvas-index"),n("#pp-offcanvas-"+scopeIdCloned).each(function(){n(this).attr("id","pp-offcanvas-"+e),n(this).hasClass("pp-offcanvas-"+scopeIdCloned)&&n(this).addClass("pp-offcanvas-"+e)})),e},hasMultipleScopeId:function(t){return 1!==n('[data-id="'+t+'"]').length},destroy:function(){this.close(),this.animations.forEach(function(t){n("html").hasClass("pp-offcanvas-content-"+t)&&n("html").removeClass("pp-offcanvas-content-"+t)}),n("body > .pp-offcanvas-"+this.id).length},setTrigger:function(){return"element-id"==this.toggle_source&&""!=this.toggle_id?n("#"+this.toggle_id):"element-class"==this.toggle_source&&""!=this.toggle_class?n("."+this.toggle_class):this.node.find(".pp-offcanvas-toggle")},bindEvents:function(){var e=this;($trigger=this.setTrigger())&&$trigger.on("click",n.proxy(this.toggleContent,this)),"yes"===this.open_panel_add_to_cart&&this.add_to_cart_button.on("click",function(t){setTimeout(function(){e.toggleContent(t)},1e3)}),n("body").delegate(".pp-offcanvas-content .pp-offcanvas-close","click",n.proxy(this.close,this)),"yes"===this.links_click_close&&n("body").delegate(".pp-offcanvas-content .pp-offcanvas-body a","click",n.proxy(this.close,this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick(),n(window).resize(n.proxy(this._resize,this))},toggleContent:function(t){t.preventDefault(),n("html").hasClass("pp-offcanvas-open")?this.close():this.show(),this._resize()},show:function(){n(".pp-offcanvas-"+this.id).addClass("pp-offcanvas-visible"),n("html").addClass("pp-offcanvas-content-"+this.transition),n("html").addClass("pp-offcanvas-"+this.direction),n("html").addClass("pp-offcanvas-open"),n("html").addClass("pp-offcanvas-"+this.id+"-open"),n("html").addClass("pp-offcanvas-reset"),this.button.addClass("pp-is-active"),this._resize()},close:function(){n("html").removeClass("pp-offcanvas-open"),n("html").removeClass("pp-offcanvas-"+this.id+"-open"),setTimeout(n.proxy(function(){n("html").removeClass("pp-offcanvas-reset"),n("html").removeClass("pp-offcanvas-content-"+this.transition),n("html").removeClass("pp-offcanvas-"+this.direction),n(".pp-offcanvas-"+this.id).removeClass("pp-offcanvas-visible")},this),500),this.button.removeClass("pp-is-active")},closeESC:function(){var e=this;""!==e.settings.esc_close&&n(document).on("keydown",function(t){27===t.keyCode&&e.close()})},closeClick:function(){var e=this;$trigger="element-id"==this.toggle_source&&""!=this.toggle_id?"#"+this.toggle_id:"element-class"==this.toggle_source&&""!=this.toggle_class?"."+this.toggle_class:".pp-offcanvas-toggle",n(document).on("click",function(t){n(t.target).is(".pp-offcanvas-content")||0<n(t.target).parents(".pp-offcanvas-content").length||n(t.target).is(".pp-offcanvas-toggle")||0<n(t.target).parents(".pp-offcanvas-toggle").length||n(t.target).is($trigger)||0<n(t.target).parents($trigger).length||!n(t.target).is(".pp-offcanvas-container")||e.close()})},_resize:function(){var t,e;this.cart_wrap.length&&(t=n(".pp-offcanvas-"+this.id))&&0<t.length&&("bottom"===this.buttons_position?(e=+(e=window.innerHeight),t.find(".pp-offcanvas-inner").css({height:e+"px",top:0}),headerHeight=t.find(".pp-offcanvas-cart-header").outerHeight(!0),wrapHeight=t.find(".pp-offcanvas-wrap").outerHeight(),cartTotalHeight=t.find(".woocommerce-mini-cart__total").outerHeight(),cartButtonsHeight=t.find(".woocommerce-mini-cart__buttons").outerHeight(),cartMessageHeight=t.find(".pp-woo-menu-cart-message").outerHeight(),undefined===cartMessageHeight&&(cartMessageHeight=0),itemsHeight=e-(headerHeight+cartTotalHeight+cartButtonsHeight+cartMessageHeight),finalItemsHeight=itemsHeight-(e-wrapHeight),finalItemsHeight+="px"):finalItemsHeight="auto",e='<style id="pp-woo-style-'+this.id+'">',e=(e+="#"+t.attr("id")+" .woocommerce-mini-cart.cart_list {")+"height: "+finalItemsHeight+"}</style>",0<n("#pp-woo-style-"+this.id).length&&n("#pp-woo-style-"+this.id).remove(),n("head").append(e))}};var t=function(t,e){0<e(t.find(".pp-offcanvas-content-wrap")).length&&new PPOffcanvasContent(t)},e=function(t,e){0<e(t.find(".pp-offcanvas-cart-container")).length&&new PPOffcanvasContent(t)};n(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&(isEditMode=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-offcanvas-content.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-woo-offcanvas-cart.default",e)})}(jQuery);
!function(o){o(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){var e=JSON.parse(this.$element.find("[name=pp-countdown-settings]").val()),t={timertype:e.timer_type,timer_format:e.timer_format,timer_layout:e.timer_layout,timer_labels:e.timer_labels,timer_labels_singular:e.timer_labels_singular,redirect_link:e.redirect_link.url,redirect_link_target:e.redirect_link_target,fixed_timer_action:e.fixed_timer_action,evergreen_timer_action:e.evergreen_timer_action,evergreen_date_days:e.days,evergreen_date_hour:e.hours,evergreen_date_minutes:e.minutes,evergreen_date_seconds:e.seconds,timezone:e.time_zone,id:this.getID()};return"NULL"!==e.time_zone&&""!==e.time_zone||(t.timezone=null),"evergreen"===e.timer_type?t.timer_date=new Date:t.timer_date=new Date(e.years,e.months-1,e.days,e.hours,e.minutes),e.timer_exp_text&&(t.timer_exp_text=e.timer_exp_text),t.selectors={wrap:".pp-countdown-wrapper"},t}getDefaultElements(){var e=this.getSettings("selectors");return{$wrap:this.$element.find(e.wrap)}}bindEvents(){var e,t,r=this.getSettings();"fixed"==r.timertype&&this.initFixedTimer(),"evergreen"==r.timertype&&(e="",t=0,undefined==o.cookie("countdown-"+r.id)&&(o.cookie("countdown-"+r.id,!0),o.cookie("countdown-"+r.id+"-currdate",new Date),o.cookie("countdown-"+r.id+"-day",r.evergreen_date_days),o.cookie("countdown-"+r.id+"-hour",r.evergreen_date_hour),o.cookie("countdown-"+r.id+"-min",r.evergreen_date_minutes),o.cookie("countdown-"+r.id+"-sec",r.evergreen_date_seconds)),e=new Date(o.cookie("countdown-"+r.id+"-currdate")),t=1e3*(parseFloat(24*r.evergreen_date_days*60*60)+parseFloat(60*r.evergreen_date_hour*60)+parseFloat(60*r.evergreen_date_minutes)+parseFloat(r.evergreen_date_seconds)),e.setTime(e.getTime()+t),r.timer_date=e,this.initEverGreenTimer()),this.initCountdown()}initCountdown(){var e=this.getSettings(),t="",t="fixed"===e.timertype?e.fixed_timer_action:e.evergreen_timer_action;o.cookie("countdown-"+e.id+"expiremsg",null),o.cookie("countdown-"+e.id+"redirect",null),o.cookie("countdown-"+e.id+"redirectwindow",null),o.cookie("countdown-"+e.id+"hide",null),o.cookie("countdown-"+e.id+"reset",null),o.removeCookie("countdown-"+e.id+"expiremsg"),o.removeCookie("countdown-"+e.id+"redirect"),o.removeCookie("countdown-"+e.id+"redirectwindow"),o.removeCookie("countdown-"+e.id+"hide"),o.removeCookie("countdown-"+e.id+"reset"),"msg"===t?o.cookie("countdown-"+e.id+"expiremsg",e.expire_message,{expires:365}):"redirect"===t?(o.cookie("countdown-"+e.id+"redirect",e.redirect_link,{expires:365}),o.cookie("countdown-"+e.id+"redirectwindow",e.redirect_link_target,{expires:365})):"hide"===t?o.cookie("countdown-"+e.id+"hide","yes",{expires:365}):"reset"===t&&o.cookie("countdown-"+e.id+"reset","yes",{expires:365})}countdownConfig(e){return{until:e.timer_date,format:e.timer_format,layout:e.timer_layout,labels:e.timer_labels.split(","),timezone:e.timezone,labels1:e.timer_labels_singular.split(",")}}initFixedTimer(){var e,t=this.getSettings();0<(new Date).getTime()-t.timer_date.getTime()?(e=this.countdownConfig(t),"msg"===t.fixed_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?this.elements.$wrap.append(t.timer_exp_text):(e.expiryText=t.timer_exp_text,this.elements.$wrap.countdown(e)):"redirect"===t.fixed_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?window.open(t.redirect_link,t.redirect_link_target):(e.expiryText=t.timer_exp_text,this.elements.$wrap.countdown(e)):"hide"===t.fixed_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?this.elements.$wrap.countdown("destroy"):(e.expiryText=t.timer_exp_text,this.elements.$wrap.countdown(e)):this.elements.$wrap.countdown(e)):(e=this.countdownConfig(t),"msg"===t.fixed_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)&&(e.expiryText=t.timer_exp_text):"redirect"===t.fixed_timer_action?(e.expiryText=t.timer_exp_text,e.onExpiry=t.redirectCounter):"hide"===t.fixed_timer_action?(e.expiryText=t.timer_exp_text,e.onExpiry=t.destroyCounter):e.expiryText=t.timer_exp_text,this.elements.$wrap.countdown(e))}initEverGreenTimer(){var e,t=this.getSettings();0<(new Date).getTime()-t.timer_date.getTime()?(e=this.countdownConfig(t),"msg"===t.evergreen_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?this.elements.$wrap.append(o.cookie("countdown-"+this.settings.id+"expiremsg")):(e.expiryText=o.cookie("countdown-"+t.settings.id+"expiremsg"),this.elements.$wrap.countdown(e)):"redirect"===t.evergreen_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?window.open(t.redirect_link,t.redirect_link_target):(e.onExpiry=t.redirectCounter,this.elements.$wrap.countdown(e)):"hide"===t.evergreen_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)?this.elements.$wrap.countdown("destroy"):(e.onExpiry=t.destroyCounter,this.elements.$wrap.countdown(e)):("reset"===t.evergreen_timer_action&&(e.onExpiry=t.restartCountdown),this.elements.$wrap.countdown(e))):(e=this.countdownConfig(t),"msg"===t.evergreen_timer_action?parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)&&(e.expiryText=o.cookie("countdown-"+t.settings.id+"expiremsg")):"redirect"===t.evergreen_timer_action?e.onExpiry=t.redirectCounter:"hide"===t.evergreen_timer_action?e.onExpiry=t.destroyCounter:"reset"===t.evergreen_timer_action&&(e.onExpiry=t.restartCountdown),this.elements.$wrap.countdown(e))}redirectCounter(){var e=jQuery.cookie(jQuery(this)[0].id+"redirect"),t=jQuery.cookie(jQuery(this)[0].id+"redirectwindow");parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)&&window.open(e,t)}destroyCounter(){parseInt(window.location.href.toLowerCase().indexOf("?elementor"))===parseInt(-1)&&jQuery(this).countdown("destroy")}restartCountdown(){var e=this.getSettings(),t=(o.cookie("countdown-"+e.id+"-currdate",new Date),currdate=new Date(o.cookie("countdown-"+e.id+"-currdate")),o.cookie("countdown-"+e.id+"-day")),r=o.cookie("countdown-"+e.id+"-hour"),i=o.cookie("countdown-"+e.id+"-min"),n=o.cookie("countdown-"+e.id+"-sec"),t=1e3*(parseFloat(24*t*60*60)+parseFloat(60*r*60)+parseFloat(60*i)+parseFloat(n));currdate.setTime(currdate.getTime()+t),e.timer_date=currdate,jQuery(this).countdown("option",{until:e.timer_date})}}elementorFrontend.elementsHandler.attachHandler("pp-countdown",e)})}(jQuery);
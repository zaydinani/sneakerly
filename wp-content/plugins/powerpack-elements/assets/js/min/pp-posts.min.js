!function(k){var b=!0,x=1,a="",C=0,$=!1;function j(t){var t=t.find(".swiper-slide-visible"),e=-1;t.each(function(){var t=k(this).find(".pp-post").outerHeight();e<t&&(e=t)}),t.each(function(){k(this).find(".pp-post").animate({height:e},{duration:200,easing:"linear"})})}var t=function(a,o){var t,p,n,i,e,s,d,r,l=a.find(".pp-posts-container"),f=a.find(".pp-posts"),c=a.find(".pp-posts").data("layout"),u=a.find(".pp-post-filters-container").data("search-form"),h=a.find(".pp-search-form-input"),m=a.find(".pp-post-filters-container").data("search-action"),g=a.find(".pp-posts-loader"),w=a.find(".pp-post-filters"),v=a.find(".pp-post-filters-dropdown"),_=a.find(".pp-coupons");function y(){var t=elementorFrontend.config.breakpoints,e=0,p="auto";a.find(".pp-post-wrap").each(function(){o(this).find(".pp-post-content").outerHeight()>e&&(e=o(this).find(".pp-post-content").outerHeight())}),o(window).width()>=t.md&&(p=e),a.find(".pp-post-wrap").css("height",p)}"masonry"==c&&a.imagesLoaded(function(t){f.isotope({layoutMode:c,itemSelector:".pp-grid-item-wrap"})}),a.on("posts.rendered",function(t,e){new VideoHandler(e,o)}),F(a,1),w.find(".pp-post-filter").off("click").on("click",function(){var t;o(this).siblings().removeClass("pp-filter-current"),o(this).addClass("pp-filter-current"),x=1,0<v.length&&(t=o(this).data("filter"),v.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),v.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),v.find(".pp-post-filters-dropdown-button").html(o(this).html())),0<_.length?A(a,o(this),"coupon"):A(a,o(this),"")}),v.find(".pp-post-filters-dropdown-button").on("click",function(){v.find(".pp-post-filters-dropdown-list").toggle()}),v.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){o(this).siblings().removeClass("pp-filter-current"),o(this).addClass("pp-filter-current"),v.find(".pp-post-filters-dropdown-list").hide(),v.find(".pp-post-filters-dropdown-button").html(o(this).html()),x=1;var t=o(this).data("filter");w.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),w.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),0<_.length?A(a,o(this),"coupon"):A(a,o(this),"")}),(0<w.length||0<v.length)&&(""!==location.hash&&(t=location.hash.split("#")[1],w.find('li[data-filter=".'+t+'"]').trigger("click"),0<v.length)&&v.find('li[data-filter=".'+t+'"]').trigger("click"),o(window).on("hashchange",function(){var t;""!==location.hash&&(t=location.hash.split("#")[1],w.find('li[data-filter=".'+t+'"]').trigger("click"),0<v.length)&&v.find('li[data-filter=".'+t+'"]').trigger("click")})),"show"==u&&(h.on({focus:function(){a.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){a.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==m?a.find(".pp-search-form-input").keyup((p=function(){T(a,o(this))},n=n||100,function(){clearTimeout(i);var t=arguments,e=this;i=setTimeout(function(){p.apply(e,t)},n)})):"button-click"==m&&a.find(".pp-search-form-submit").on("click",function(){T(a,o(this))})),l.find(".pp-posts").hasClass("pp-posts-skin-checkerboard")&&a.hasClass("pp-equal-height-yes")&&l.find(".pp-posts").hasClass("pp-posts-height-auto")&&(o(y),o(window).resize(y)),(l.hasClass("pp-posts-infinite-scroll")||_.hasClass("pp-coupons-infinite-scroll"))&&(e=jQuery(window).outerHeight()/1.25,o(window).scroll(function(){if(elementorFrontend.isEditMode())return g.show(),!1;var t;_.hasClass("pp-coupons-infinite-scroll")?o(window).scrollTop()+e>=a.find(".pp-coupons-grid-wrapper:last").offset().top&&(t={page_id:a.find(".pp-coupons-grid-wrapper").data("page"),widget_id:a.data("id"),filter:a.find(".pp-filter-current").data("filter"),taxonomy:a.find(".pp-filter-current").data("taxonomy"),skin:a.find(".pp-coupons-grid-wrapper").data("skin"),page_number:a.find(".page-numbers.current").next("a").html(),ajax_for:"coupon"},C=a.find(".pp-posts-pagination").data("total"),1==b)&&x<C&&(g.show(),H(a,t,!0),x++,b=!1):o(window).scrollTop()+e>=a.find(".pp-post:last").offset().top&&(t={page_id:a.find(".pp-posts").data("page"),widget_id:a.data("id"),filter:a.find(".pp-filter-current").data("filter"),taxonomy:a.find(".pp-filter-current").data("taxonomy"),skin:a.find(".pp-posts").data("skin"),page_number:a.find(".pp-posts-pagination .current").next("a").html(),ajax_for:""},C=a.find(".pp-posts-pagination").data("total"),1==b)&&x<C&&(g.show(),H(a,t,!0),x++,b=!1)})),"carousel"==c&&(s=a.find(".swiper-container-wrap").eq(0),d=a.find(".pp-posts-carousel").eq(0),r=JSON.parse(d.attr("data-slider-settings")),o(s).closest(".elementor-widget-wrap").addClass("e-swiper-container"),o(s).closest(".elementor-widget").addClass("e-widget-swiper"),0<d.length)&&new elementorFrontend.utils.swiper(d,r).then(function(t){var e=a,p=d,o=s,n=r,i=t;j(e),i.on("slideChange",function(){j(e)}),!0===n.autoplay.pauseOnHover&&(p.on("mouseover",function(){i.autoplay.stop()}),p.on("mouseout",function(){i.autoplay.start()})),$&&o.resize(function(){}),["ppe-tabs-switched","ppe-toggle-switched","ppe-accordion-switched","ppe-popup-opened"].forEach(function(t){void 0!==t&&k(document).on(t,function(t,e){0<e.find(".pp-swiper-slider").length&&setTimeout(function(){i.update()},100)})})})};function s(t){return t.find(".pp-post-load-more").data("count")}function F(t,e){t.find(".pp-post-load-more").attr("data-count",e)}k(document).on("click",".pp-post-load-more",function(t){$scope=k(this).closest(".elementor-widget-pp-posts"),a=$scope.find(".pp-posts-loader");var e,p,o,n,i=k(this).closest(".elementor-widget-pp-coupons");if(coupon_loader=i.find(".pp-posts-loader"),t.preventDefault(),elementorFrontend.isEditMode())return a.show(),coupon_loader.show(),!1;0<i.length?(e=s(i),p=i.find(".pp-filter-current").data("filter"),o=i.find(".pp-filter-current").data("taxonomy"),n={page_id:i.find(".pp-coupons-grid-wrapper").data("page"),widget_id:i.data("id"),filter:p||"",taxonomy:o||"",page_number:e+1,ajax_for:"coupon"},C=i.find(".pp-posts-pagination").data("total"),1==b&&e<C&&(coupon_loader.show(),k(this).hide(),H(i,n,!0,e),e++,b=!1)):(e=s($scope),p=$scope.find(".pp-filter-current").data("filter"),o=$scope.find(".pp-filter-current").data("taxonomy"),n={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:p||"",taxonomy:o||"",skin:$scope.find(".pp-posts").data("skin"),page_number:e+1,ajax_for:""},C=$scope.find(".pp-posts-pagination").data("total"),1==b&&e<C&&(a.show(),k(this).hide(),H($scope,n,!0,e),e++,b=!1))}),k("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(t){$scope=k(this).closest(".elementor-widget-pp-posts");var e,p,o,n=k(this).closest(".elementor-widget-pp-coupons");"main"!=$scope.find(".pp-posts").data("query-type")&&(t.preventDefault(),0<n.length?(n.find(".pp-coupons-grid-wrapper .pp-coupon").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),e=1,p=parseInt(n.find(".pp-posts-pagination .page-numbers.current").html()),e=k(this).hasClass("next")?p+1:k(this).hasClass("prev")?p-1:k(this).html(),o={page_id:n.find(".pp-coupons-grid-wrapper").data("page"),widget_id:n.data("id"),filter:n.find(".pp-filter-current").data("filter"),taxonomy:n.find(".pp-filter-current").data("taxonomy"),page_number:e,ajax_for:"coupon"},k("html, body").animate({scrollTop:n.find(".pp-coupons-wrap").offset().top-30},"slow"),H(n,o)):($scope.find(".pp-posts .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),e=1,p=parseInt($scope.find(".pp-posts-pagination .page-numbers.current").html()),e=k(this).hasClass("next")?p+1:k(this).hasClass("prev")?p-1:k(this).html(),o={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".pp-filter-current").data("filter"),taxonomy:$scope.find(".pp-filter-current").data("taxonomy"),skin:$scope.find(".pp-posts").data("skin"),page_number:e,ajax_for:""},k("html, body").animate({scrollTop:$scope.find(".pp-posts-container").offset().top-30},"slow"),H($scope,o)))});var A=function(t,e,p){p="coupon"===p?(t.find(".pp-coupons-grid-wrapper .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-coupons-grid-wrapper").data("page"),widget_id:t.data("id"),filter:e.data("filter"),taxonomy:e.data("taxonomy"),page_number:1,ajax_for:"coupon"}):(t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),filter:e.data("filter"),taxonomy:e.data("taxonomy"),skin:t.find(".pp-posts").data("skin"),page_number:1,ajax_for:""}),H(t,p)},T=function(t,e){t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var p={page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),search:t.find(".pp-search-form-input").val(),page_number:1};H(t,p)},H=function(a,s,d,r){var l=a.find(".pp-posts-loader");k.ajax({url:pp_posts_script.ajax_url,data:{action:"pp_get_post",page_id:s.page_id,widget_id:s.widget_id,category:s.filter,search:s.search,taxonomy:s.taxonomy,skin:s.skin,page_number:s.page_number,ajax_for:s.ajax_for,nonce:pp_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(t){var e,p,o,n,i;b=("coupon"===s.ajax_for?(e=a.find(".pp-coupons-grid-wrapper"),(p=a.find(".pp-posts-empty")).remove(),0==k(p).length&&k(t.data.not_found).insertBefore(e),1==d?(o=t.data.html,e.append(o)):e.html(t.data.html),a.find(".pp-posts-pagination-wrap").html(t.data.pagination)):(e=a.find(".pp-posts"),(p=a.find(".pp-posts-empty")).remove(),0==k(p).length&&k(t.data.not_found).insertBefore(e),1==d?(o=t.data.html,e.append(o)):e.html(t.data.html),a.find(".pp-posts-pagination-wrap").html(t.data.pagination),n=a.find(".pp-posts").data("layout"),i=a.find(".pp-posts"),"masonry"==n&&a.imagesLoaded(function(){i.isotope("reloadItems"),i.isotope({layoutMode:n,itemSelector:".pp-grid-item-wrap"})})),!0),1==d&&(l.hide(),a.find(".pp-post-load-more").show()),F(a,s.page_number),(r+=1)==C&&a.find(".pp-post-load-more").hide(),a.trigger("posts.rendered",[a])}}).done(function(){0<a.find(".elementor-invisible").length&&a.find(".elementor-invisible").removeClass("elementor-invisible")})};k(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&($=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.classic",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.card",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.checkerboard",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.creative",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.event",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.news",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.portfolio",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.overlap",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.template",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-coupons.default",t)})}(jQuery);
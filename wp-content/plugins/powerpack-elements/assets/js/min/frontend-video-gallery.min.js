!function(s){s(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{gallery:".pp-video-gallery",swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide"},slidesPerView:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1},effect:"slide"}}getDefaultElements(){var e=this.getSettings("selectors");return{$gallery:this.$element.find(e.gallery),$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getSlidesCount(){return this.elements.$swiperSlide.length}getEffect(){return this.getSliderSettings("effect")||this.getSettings("effect")}getDeviceSlidesPerView(e){var t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(t)||this.getSettings("slidesPerView")[e])}getSlidesPerView(e){return"slide"===this.getEffect()?this.getDeviceSlidesPerView(e):1}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(e)||1)}getSlidesToScroll(e){return"slide"===this.getEffect()?this.getDeviceSlidesToScroll(e):1}getSpaceBetween(e){return e&&"desktop"!==e&&0,elementorFrontend.utils.controls.getResponsiveControlValue(this.getSliderSettings(),"space_between","size",e)||0}getSwiperOptions(){var e,t,i=this.getSliderSettings(),s={grabCursor:"yes"===i.grab_cursor,slidesPerView:this.getSlidesPerView("desktop"),slidesPerGroup:this.getSlidesToScroll("desktop"),spaceBetween:this.getSpaceBetween(),loop:"yes"===i.loop,centeredSlides:"yes"===i.centered_slides,speed:i.speed,autoHeight:i.auto_height,effect:this.getEffect(),watchSlidesVisibility:!0,watchSlidesProgress:!0,preventClicksPropagation:!1,slideToClickedSlide:!0,handleElementorBreakpoints:!0};if("fade"===this.getEffect()&&(s.fadeEffect={crossFade:!0}),i.show_arrows&&(t=this.isEdit?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),e=this.isEdit?".elementor-swiper-button-next":".swiper-button-next-"+this.getID(),s.navigation={prevEl:t,nextEl:e}),i.pagination&&(t=this.isEdit?".swiper-pagination":".swiper-pagination-"+this.getID(),s.pagination={el:t,type:i.pagination,clickable:!0}),"cube"!==this.getEffect()){const n={},l=elementorFrontend.config.responsive.activeBreakpoints;Object.keys(l).forEach(e=>{n[l[e].value]={slidesPerView:this.getSlidesPerView(e),slidesPerGroup:this.getSlidesToScroll(e)},this.getSpaceBetween(e)&&(n[l[e].value].spaceBetween=this.getSpaceBetween(e))}),s.breakpoints=n}return!this.isEdit&&i.autoplay&&(s.autoplay={delay:i.autoplay_speed,disableOnInteraction:!!i.pause_on_interaction}),s}bindEvents(){var e=this.getElementSettings(),t=this.elements.$gallery.data("action");"inline"===t&&this.inlineVideoPlay(),"lightbox"===t&&this.lightboxVideoPlay(),elementorFrontend.isEditMode()||"grid"===e.layout&&this.initFilters(),"carousel"===e.layout&&this.initSlider()}inlineVideoPlay(){this.$element.find(".pp-video-play").off("click").on("click",function(e){e.preventDefault();var e=s("<iframe/>"),t=s(this).data("src"),i=s(this).find(".pp-video-player");e.attr("src",t),e.attr("frameborder","0"),e.attr("allowfullscreen","1"),e.attr("allow","autoplay;encrypted-media;"),i.html(e)})}lightboxVideoPlay(){s.fancybox.defaults.media.dailymotion={matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"}}initFilters(){if(this.elements.$gallery.hasClass("pp-video-gallery-filter-enabled")){let e={itemSelector:".pp-grid-item-wrap",layoutMode:"fitRows",percentPosition:!0},i={};this.$element.imagesLoaded(function(){i=this.elements.$gallery.isotope(e)}.bind(this)),this.$element.on("click",".pp-gallery-filter",function(){var e=s(this),t=e.attr("data-filter");e.siblings().removeClass("pp-active"),e.addClass("pp-active"),i.isotope({filter:t})})}}async initSlider(){var e=this.getElementSettings(),t=elementorFrontend.utils.swiper;this.swiper=await new t(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0)}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}}elementorFrontend.elementsHandler.attachHandler("pp-video-gallery",e)})}(jQuery);
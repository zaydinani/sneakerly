!function(s){jQuery(window).on("elementor:init",function(){var e=elementor.modules.controls.BaseData.extend({isPpPreset:function(){return"presets_options"===this.model.get("name")&&-1!==this.getWidgetName().indexOf("pp-")},onReady:function(){window.ppPresets=window.ppPresets||{},this.fetchPresets()},getWidgetName:function(){return this.container.settings.get("widgetType")},isPresetFetched:function(){return undefined!==window.ppPresets[this.getWidgetName()]&&window.ppPresets[this.getWidgetName()]},fetchPresets:function(){var t;this.isPpPreset()&&!this.isPresetFetched()&&this.getWidgetName()&&(t=this,s.ajax({url:pp_presets.ajaxUrl,type:"POST",data:{action:"pp_widget_presets",widget:this.getWidgetName(),nonce:pp_presets.nonce}}).done(function(e){e.success&&t.setPresets(e.data)}))},setPresets:function(e){window.ppPresets[this.getWidgetName()]=JSON.parse(e)},getPresets:function(){return undefined!==window.ppPresets[this.getWidgetName()]?window.ppPresets[this.getWidgetName()]:{}},onBaseInputChange:function(e){var t;this.constructor.__super__.onBaseInputChange.apply(this,arguments),this.isPpPreset()&&(e.stopPropagation(),t=this.getPresets(),""==e.currentTarget.value?undefined!==t["default"]?this.applyPresets(t["default"]):this.applyPresets(this.container.settings.defaults):undefined!==t[e.currentTarget.value]&&this.applyPresets(t[e.currentTarget.value]))},applyPresets:function(r){var e=elementor.getPanelView().getCurrentPageView().getOption("editedElementView"),t=($e.run("document/elements/reset-style",{container:e.getContainer()}),this.container.settings.controls),a=this,s={},n=this.container.settings,i=n.getClassControls(),o=this.container.view.$el,d=e.model._previousAttributes.settings._previousAttributes;_.each(t,function(e,n){var i;a.model.get("name")===n||_.isUndefined(r[n])||(e.is_repeater&&1<e["default"].length?((i=a.container.settings.get(n).clone()).each(function(e,s){_.isUndefined(r[n][s])||_.each(e.controls,function(e,t){a.isStyleTransferControl(e)&&i.at(s).set(t,r[n][s][t])})}),s[n]=i,a.isStyleTransferControl(e)&&(s[n]=r[n])):""!==r[n]&&a.isContentTransferControl(e)&&(e=d[n],undefined!==typeof e)&&""!==e&&e!==r[n]?s[n]=e:s[n]=r[n])}),_.each(i,function(e){var t=n._previousAttributes[e.name];e.classes_dictionary&&undefined!==e.classes_dictionary[t]&&(t=e.classes_dictionary[t]),o.removeClass(e.prefix_class+t)}),this.container.settings.setExternalChange(s),this.container.view.render()},isStyleTransferControl:function(e){return undefined!==e.style_transfer?e.style_transfer:"content"!==e.tab||e.selectors||e.prefix_class||e.return_value},isContentTransferControl:function(e){var t=e.type;return("text"===t||"textarea"===t||"icons"===t||"wysiwyg"===t||"media"===t||"url"===t)&&!0!==e.style_transfer}});elementor.addControlView("pp-presets-style",e)})}(jQuery);
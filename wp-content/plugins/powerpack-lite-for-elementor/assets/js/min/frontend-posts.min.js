!function(c){c(window).on("elementor/frontend/init",()=>{class i extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide",postsContainer:".pp-posts-container",posts:".pp-posts",couponsContainer:".pp-coupons",couponsGrid:".pp-coupons-grid-wrapper",coupon:".pp-coupon",filters:".pp-post-filters",filtersDropdown:".pp-post-filters-dropdown"},slidesPerView:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1},effect:"slide"}}getDefaultElements(){var e=this.getSettings("selectors");return{$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide),$postsContainer:this.$element.find(e.postsContainer),$posts:this.$element.find(e.posts),$couponsContainer:this.$element.find(e.couponsContainer),$couponsGrid:this.$element.find(e.couponsGrid),$coupon:this.$element.find(e.coupon),$filters:this.$element.find(e.filters),$filtersDropdown:this.$element.find(e.filtersDropdown)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getSlidesCount(){return this.elements.$swiperSlide.length}getEffect(){return this.getSliderSettings("effect")||this.getSettings("effect")}getLayout(){let e=undefined!==this.elements.$posts.data("layout")?this.elements.$posts.data("layout"):"grid";return e="pp-coupons"===this.getWidgetType()?this.getElementSettings("layout"):e}getDeviceSlidesPerView(e){var t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(t)||this.getSettings("slidesPerView")[e])}getSlidesPerView(e){return"slide"===this.getEffect()?this.getDeviceSlidesPerView(e):1}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(e)||1)}getSlidesToScroll(e){return"slide"===this.getEffect()?this.getDeviceSlidesToScroll(e):1}getSpaceBetween(e){return e&&"desktop"!==e&&0,elementorFrontend.utils.controls.getResponsiveControlValue(this.getSliderSettings(),"space_between","size",e)||0}getSwiperOptions(){var e=this.getSliderSettings();const t={slidesPerView:this.getSlidesPerView("desktop"),slidesPerGroup:this.getSlidesToScroll("desktop"),spaceBetween:this.getSpaceBetween(),loop:e.loop,centeredSlides:"yes"===e.centered_slides,speed:e.speed,autoHeight:!0,effect:this.getEffect(),watchSlidesVisibility:!0,watchSlidesProgress:!0,preventClicksPropagation:!1,slideToClickedSlide:!0,handleElementorBreakpoints:!0};if("fade"===this.getEffect()&&(t.fadeEffect={crossFade:!0}),e.show_arrows&&(t.navigation={prevEl:this.isEdit?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),nextEl:this.isEdit?".elementor-swiper-button-next":".swiper-button-next-"+this.getID()}),e.pagination&&(t.pagination={el:this.isEdit?".swiper-pagination":".swiper-pagination-"+this.getID(),type:e.pagination,clickable:!0}),"cube"!==this.getEffect()){const s={},i=elementorFrontend.config.responsive.activeBreakpoints;Object.keys(i).forEach(e=>{s[i[e].value]={slidesPerView:this.getSlidesPerView(e),slidesPerGroup:this.getSlidesToScroll(e)},this.getSpaceBetween(e)&&(s[i[e].value].spaceBetween=this.getSpaceBetween(e))}),t.breakpoints=s}return!this.isEdit&&e.autoplay&&(t.autoplay={delay:e.autoplay_speed,disableOnInteraction:!!e.pause_on_interaction}),t}bindEvents(){var e=this.$element.find(".pp-post-filters-container").data("search-form");"carousel"!==this.getLayout()&&("masonry"===this.getLayout()&&this.initMasonryLayout(),this.elements.$posts.hasClass("pp-posts-skin-checkerboard")&&this.elements.$posts.hasClass("pp-posts-height-auto")&&this.$element.hasClass("pp-equal-height-yes")&&this.setEqualHeightCheckerboard(),this.setPostsCount(1),this.initFilters(),"show"===e&&this.getSearchForm(),this.initLoadMore(),this.initNumberedPagination(),this.initInfiniteScroll()),"carousel"===this.getLayout()&&this.initSlider(),"pp-coupons"===this.getWidgetType()&&this.onCouponClick()}initMasonryLayout(){const t=this.$element.find(".pp-posts"),s=this.getLayout();this.$element.imagesLoaded(function(e){t.isotope({layoutMode:s,itemSelector:".pp-grid-item-wrap"})})}initFilters(){const s=this;this.elements.$filters.find(".pp-post-filter").off("click").on("click",function(){if(c(this).siblings().removeClass("pp-filter-current"),c(this).addClass("pp-filter-current"),0<s.elements.$filtersDropdown.length){let e=c(this).data("filter"),t=s.elements.$filtersDropdown.find('li[data-filter="'+e+'"]');t.siblings().removeClass("pp-filter-current"),t.addClass("pp-filter-current"),s.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").html(c(this).html())}0<s.elements.$couponsContainer.length?s.postsFilterAjax(s,c(this),"coupon"):s.postsFilterAjax(s,c(this),"")}),this.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").on("click",function(){s.elements.$filtersDropdown.find(".pp-post-filters-dropdown-list").toggle()}),this.elements.$filtersDropdown.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){c(this).siblings().removeClass("pp-filter-current"),c(this).addClass("pp-filter-current"),s.elements.$filtersDropdown.find(".pp-post-filters-dropdown-list").hide(),s.elements.$filtersDropdown.find(".pp-post-filters-dropdown-button").html(c(this).html());let e=c(this).data("filter"),t=s.elements.$filters.find('li[data-filter="'+e+'"]');t.siblings().removeClass("pp-filter-current"),t.addClass("pp-filter-current"),0<s.elements.$couponsContainer.length?s.postsFilterAjax(s,c(this),"coupon"):s.postsFilterAjax(s,c(this),"")}),(0<this.elements.$filters.length||0<this.elements.$filtersDropdown.length)&&(this.initFiltersOnHashChange(s),c(window).on("hashchange",function(){this.initFiltersOnHashChange(s)}.bind(this)))}initFiltersOnHashChange(e){var t;""!==location.hash&&(t=location.hash.split("#")[1],e.elements.$filters.find('li[data-filter=".'+t+'"]').trigger("click"),0<e.elements.$filtersDropdown.length&&e.elements.$filtersDropdown.find('li[data-filter=".'+t+'"]').trigger("click"))}getSearchForm(){const e=this.$element.find(".pp-search-form-input"),t=this.$element.find(".pp-post-filters-container").data("search-action"),s=this;e.on({focus:function(){s.$element.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){s.$element.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==t?this.$element.find(".pp-search-form-input").keyup(function(s,i){let n;return i=i||100,function(){clearTimeout(n);let e=arguments,t=this;n=setTimeout(function(){s.apply(t,e)},i)}}(function(){s.postsSearchAjax(s)})):"button-click"==t&&this.$element.find(".pp-search-form-submit").on("click",function(){s.postsSearchAjax(s)})}initNumberedPagination(){const r=this;c("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(i){const e=c(this).closest(".elementor-widget-pp-posts"),n=c(this).closest(".elementor-widget-pp-coupons");let o=0<n.length?n:e,p=o.find(".pp-post-wrap").last(),t=o.find(".pp-posts"),a=t.data("page");if(0<n.length&&(p=n.find(".pp-coupon").last(),t=n.find(".pp-coupons-grid-wrapper"),a=t.data("page")),"main"!=t.data("query-type")){i.preventDefault(),p.after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');let e=1,t=parseInt(o.find(".pp-posts-pagination .page-numbers.current").html()),s=(e=c(this).hasClass("next")?t+1:c(this).hasClass("prev")?t-1:c(this).html(),{page_id:a,widget_id:r.getID(),filter:o.find(".pp-filter-current").data("filter"),taxonomy:o.find(".pp-filter-current").data("taxonomy"),page_number:e,ajax_for:""});0<n.length?(s.ajax_for="coupon",c("html, body").animate({scrollTop:n.find(".pp-coupons-grid").offset().top-30},"slow")):(s.skin=o.find(".pp-posts").data("skin"),c("html, body").animate({scrollTop:o.find(".pp-posts-container").offset().top-30},"slow")),r.callAjax(r,s)}})}initLoadMore(){const d=this;this.loadStatus=!0,c(document).on("click",".pp-post-load-more",function(e){const t=c(this).closest(".elementor-widget-pp-posts"),s=c(this).closest(".elementor-widget-pp-coupons");if(e.preventDefault(),elementorFrontend.isEditMode())return n.show(),coupon_loader.show(),!1;let i=0<s.length?s:t,n=i.find(".pp-posts-loader"),o=d.getPostsCount(),p=i.find(".pp-filter-current").data("filter"),a=i.find(".pp-filter-current").data("taxonomy"),r=i.find(".pp-posts").data("page"),l={page_id:r=0<s.length?s.find(".pp-coupons-grid-wrapper").data("page"):r,widget_id:d.getID(),filter:p??"",taxonomy:a??"",page_number:o+1,ajax_for:""};0<s.length?l.ajax_for="coupon":l.skin=i.find(".pp-posts").data("skin"),d.total=i.find(".pp-posts-pagination").data("total"),1==d.loadStatus&&o<d.total&&(n.show(),c(this).hide(),d.callAjax(d,l,!0,o),o++,d.loadStatus=!1)})}initInfiniteScroll(){let o=this,p=1,a=this.$element.find(".pp-posts-loader");if(this.loadStatus=!0,this.elements.$postsContainer.hasClass("pp-posts-infinite-scroll")||this.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")){let n=jQuery(window).outerHeight()/1.25;c(window).scroll(function(){if(elementorFrontend.isEditMode())return a.show(),!1;let e=o.$element,t=o.elements.$posts,s=e.find(".pp-post:last"),i=(o.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")&&(t=o.elements.$couponsGrid,s=e.find(".pp-coupon:last")),{page_id:t.data("page"),widget_id:o.getID(),filter:e.find(".pp-filter-current").data("filter"),taxonomy:e.find(".pp-filter-current").data("taxonomy"),page_number:e.find(".page-numbers.current").next("a").html(),ajax_for:""});o.total=e.find(".pp-posts-pagination").data("total"),c(window).scrollTop()+n>=s.offset().top&&(o.elements.$couponsContainer.hasClass("pp-coupons-infinite-scroll")?i.ajax_for="coupon":i.skin=e.find(".pp-posts").data("skin"),1==o.loadStatus&&p<o.total&&(a.show(),o.callAjax(o,i,!0),p++,o.loadStatus=!1))})}}postsFilterAjax(e,t,s){let i=this.elements.$posts.find(".pp-post-wrap").last(),n=this.elements.$posts.data("page"),o=("coupon"===s&&(i=this.elements.$couponsGrid.find(".pp-coupon").last(),n=this.elements.$couponsGrid.data("page")),i.after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:n,widget_id:this.getID(),filter:t.data("filter"),taxonomy:t.data("taxonomy"),page_number:1,ajax_for:""});"coupon"===s?o.ajax_for="coupon":o.skin=this.$element.find(".pp-posts").data("skin"),this.callAjax(e,o)}postsSearchAjax(e){this.$element.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var t={page_id:this.$element.find(".pp-posts").data("page"),widget_id:this.$element.data("id"),search:this.$element.find(".pp-search-form-input").val(),page_number:1};this.callAjax(e,t)}callAjax(o,p,a,r){let l=this.$element.find(".pp-posts-loader");c.ajax({url:ppPostsScript.ajax_url,data:{action:"pp_get_post",page_id:p.page_id,widget_id:p.widget_id,category:p.filter,search:p.search,taxonomy:p.taxonomy,skin:p.skin,page_number:p.page_number,ajax_for:p.ajax_for,nonce:ppPostsScript.posts_nonce},dataType:"json",type:"POST",success:function(e){let s=o.elements.$postsContainer,t=s.find(".pp-posts"),i=("coupon"===p.ajax_for&&(s=o.elements.$couponsContainer,t=s.find(".pp-coupons-grid-wrapper")),s.find(".pp-posts-empty"));var n;if(i.remove(),0==c(i).length&&c(e.data.not_found).insertBefore(t),1==a?(n=e.data.html,t.append(n)):t.html(e.data.html),s.find(".pp-posts-pagination-wrap").html(e.data.pagination),o.loadStatus=!0,1==a&&(l.hide(),s.find(".pp-post-load-more").show()),o.setPostsCount(p.page_number),"coupon"!==p.ajax_for){let e=s.find(".pp-posts").data("layout"),t=s.find(".pp-posts");"masonry"==e&&s.imagesLoaded(function(){t.isotope("reloadItems"),t.isotope({layoutMode:e,itemSelector:".pp-grid-item-wrap"})})}(r+=1)==o.total&&s.find(".pp-post-load-more").hide(),o.$element.trigger("posts.rendered",[o.$element])}}).done(function(){0<o.$element.find(".elementor-invisible").length&&o.$element.find(".elementor-invisible").removeClass("elementor-invisible")})}setEqualHeightCheckerboard(){var e=elementorFrontend.config.breakpoints;let t=0,s="auto";this.$element.find(".pp-post-wrap").each(function(){c(this).find(".pp-post-content").outerHeight()>t&&(t=c(this).find(".pp-post-content").outerHeight())}),c(window).width()>=e.md&&(s=t),this.$element.find(".pp-post-wrap").css("height",s)}setPostsCount(e){this.$element.find(".pp-post-load-more").attr("data-count",e)}getPostsCount(){return this.$element.find(".pp-post-load-more").data("count")}onCouponClick(){const n=this.getElementSettings();this.elements.$coupon.each(function(){const i=c(this).find(".pp-coupon-code").attr("data-coupon-code");c(this).find(".pp-coupon-code").not(".pp-copied").on("click",function(){if(!(0<c(this).find(".pp-coupon-code-no-code").length)){const t=c(this);var e='<input type="text" value="'+i+'" id="ppCouponInput">';t.append(e);const s=document.getElementById("ppCouponInput");s.select(),document.execCommand("copy"),c("#ppCouponInput").remove(),"copy"===n.coupon_style?(t.addClass("pp-copied"),t.find(".pp-coupon-copy-text").fadeOut().text(ppPostsScript.copied_text).fadeIn()):(t.find(".pp-coupon-reveal-wrap").css({transform:"translate(200px, 0px)"}),setTimeout(function(){t.find(".pp-coupon-code-text-wrap").removeClass("pp-unreavel"),t.find(".pp-coupon-code-text").text(i),t.find(".pp-coupon-reveal-wrap").remove()},150),setTimeout(function(){t.addClass("pp-copied"),t.find(".pp-coupon-copy-text").fadeOut().text(ppPostsScript.copied_text).fadeIn()},500))}})})}async initSlider(){var e=this.getSliderSettings(),t=this.$element.find(".pp-posts").data("equal-height");const s=elementorFrontend.utils.swiper;this.swiper=await new s(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0),"yes"===t&&this.setEqualHeight()}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}setEqualHeight(){let e=this.$element.find(".swiper-slide-visible"),s=-1;e.each(function(){let e=c(this).find(".pp-post"),t=e.outerHeight();s<t&&(s=t)}),e.each(function(){let e=c(this).find(".pp-post");e.animate({height:s},{duration:200,easing:"linear"})})}}c.each({posts:["default","classic","card","checkerboard","creative","event","news","portfolio","overlap","template"],coupons:""},function(s,e){"object"==typeof e?c.each(e,function(e,t){elementorFrontend.elementsHandler.attachHandler("pp-"+s,i,t)}):elementorFrontend.elementsHandler.attachHandler("pp-"+s,i)})})}(jQuery);
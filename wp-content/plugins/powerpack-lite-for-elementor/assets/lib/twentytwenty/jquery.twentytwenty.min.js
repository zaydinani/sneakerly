!function(g){g.fn.twentytwenty=function(m){m=g.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},m);return this.each(function(){var e=m.default_offset_pct,n=g(this),i=m.orientation,t="vertical"===i?"down":"left",a="vertical"===i?"up":"right",o=(n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),m.no_overlay||n.append("<div class='twentytwenty-overlay'></div>"),n.find("img:first")),s=n.find("img:last"),c=(n.append("<div class='twentytwenty-handle'></div>"),n.find(".twentytwenty-handle")),t=(c.append("<span class='twentytwenty-"+t+"-arrow'></span>"),c.append("<span class='twentytwenty-"+a+"-arrow'></span>"),n.addClass("twentytwenty-container"),o.addClass("twentytwenty-before"),s.addClass("twentytwenty-after"),n.find(".twentytwenty-overlay")),d=(t.append("<div class='twentytwenty-before-label' data-content='"+m.before_label+"'></div>"),t.append("<div class='twentytwenty-after-label' data-content='"+m.after_label+"'></div>"),function(t){var e=o.width(),n=o.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}}),l=function(t){"vertical"===i?(o.css("clip","rect(0,"+t.w+","+t.ch+",0)"),s.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(o.css("clip","rect(0,"+t.cw+","+t.h+",0)"),s.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),n.css("height",t.h)},r=function(t){t=d(t);c.css("vertical"===i?"top":"left","vertical"===i?t.ch:t.cw),l(t)},w=function(t,e,n){return Math.max(e,Math.min(n,t))},f=function(t,e){return w("vertical"===i?(e-p)/h:(t-v)/y,0,1)},v=(g(window).on("resize.twentytwenty",function(t){r(e)}),0),p=0,y=0,h=0,a=function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==i||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===i)&&t.preventDefault(),n.addClass("active"),v=n.offset().left,p=n.offset().top,y=o.width(),h=o.height()},t=function(t){n.hasClass("active")&&(e=f(t.pageX,t.pageY),r(e))},u=function(){n.removeClass("active")},_=m.move_with_handle_only?c:n;_.on("movestart",a),_.on("move",t),_.on("moveend",u),m.move_slider_on_hover&&(n.on("mouseenter",a),n.on("mousemove",t),n.on("mouseleave",u)),c.on("touchmove",function(t){t.preventDefault()}),n.find("img").on("mousedown",function(t){t.preventDefault()}),m.click_to_move&&n.on("click",function(t){v=n.offset().left,p=n.offset().top,y=o.width(),h=o.height(),e=f(t.pageX,t.pageY),r(e)}),g(window).trigger("resize.twentytwenty")})}}(jQuery);